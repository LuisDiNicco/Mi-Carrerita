{"numFailedTestSuites":1,"numFailedTests":1,"numPassedTestSuites":4,"numPassedTests":23,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":5,"numTotalTests":24,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1771588442149,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Schedule Helpers","isValidTimetable"],"duration":12,"failing":false,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.<anonymous> (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\src\\modules\\schedule\\helpers\\schedule.helpers.spec.ts:19:34)\n    at Promise.finally.completed (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n    at runTest (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n    at Object.worker (C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\node_modules\\jest-runner\\build\\testWorker.js:497:12)"],"fullName":"Schedule Helpers isValidTimetable debería ser válido para datos correctos","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771588443446,"status":"failed","title":"debería ser válido para datos correctos"},{"ancestorTitles":["Schedule Helpers","isValidTimetable"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Schedule Helpers isValidTimetable debería ser inválido si falta información","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771588443469,"status":"passed","title":"debería ser inválido si falta información"},{"ancestorTitles":["Schedule Helpers","isValidTimetable"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Schedule Helpers isValidTimetable debería ser inválido si dayOfWeek es incorrecto (boundaries)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588443470,"status":"passed","title":"debería ser inválido si dayOfWeek es incorrecto (boundaries)"},{"ancestorTitles":["Schedule Helpers","checkNewTimetableConflicts"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Schedule Helpers checkNewTimetableConflicts no debería detectar conflicto si es distinto día o turno","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588443471,"status":"passed","title":"no debería detectar conflicto si es distinto día o turno"},{"ancestorTitles":["Schedule Helpers","checkNewTimetableConflicts"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Schedule Helpers checkNewTimetableConflicts debería detectar conflicto si mismo dia y turno","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771588443472,"status":"passed","title":"debería detectar conflicto si mismo dia y turno"},{"ancestorTitles":["Schedule Helpers","detectConflicts (Múltiples Entradas al unísono)"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Schedule Helpers detectConflicts (Múltiples Entradas al unísono) debería retornar vacío si todos están okay","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588443472,"status":"passed","title":"debería retornar vacío si todos están okay"},{"ancestorTitles":["Schedule Helpers","detectConflicts (Múltiples Entradas al unísono)"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Schedule Helpers detectConflicts (Múltiples Entradas al unísono) debería identificar múltiples conflictos bidireccionales evitando duplicados exactos","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588443473,"status":"passed","title":"debería identificar múltiples conflictos bidireccionales evitando duplicados exactos"}],"endTime":1771588443497,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSchedule Helpers › isValidTimetable › debería ser válido para datos correctos\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 17 |\u001b[39m             }\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 18 |\u001b[39m             \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m isValidTimetable(timetable)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 19 |\u001b[39m             expect(result\u001b[33m.\u001b[39mvalid)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 20 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 21 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 22 |\u001b[39m         it(\u001b[32m'debería ser inválido si falta información'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/schedule/helpers/schedule.helpers.spec.ts\u001b[39m\u001b[0m\u001b[2m:19:34)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\src\\modules\\schedule\\helpers\\schedule.helpers.spec.ts","startTime":1771588442889,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["ScheduleService","setMultipleTimetables"],"duration":26,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ScheduleService setMultipleTimetables debería lanzar NotFound si no se encuentra el usuario","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588443957,"status":"passed","title":"debería lanzar NotFound si no se encuentra el usuario"},{"ancestorTitles":["ScheduleService","setMultipleTimetables"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ScheduleService setMultipleTimetables debería rechazar si la validación falla (ej. día inválido)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588443985,"status":"passed","title":"debería rechazar si la validación falla (ej. día inválido)"},{"ancestorTitles":["ScheduleService","setMultipleTimetables"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ScheduleService setMultipleTimetables debería rechazar si hay un conflicto","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588443989,"status":"passed","title":"debería rechazar si hay un conflicto"},{"ancestorTitles":["ScheduleService","setMultipleTimetables"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ScheduleService setMultipleTimetables debería procesar en bulk sin N+1 usando el pre-fetch refactorizado","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1771588443994,"status":"passed","title":"debería procesar en bulk sin N+1 usando el pre-fetch refactorizado"}],"endTime":1771588443999,"message":"","name":"C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\src\\modules\\schedule\\services\\schedule.service.spec.ts","startTime":1771588442955,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["DashboardService","getDashboardData"],"duration":30,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DashboardService getDashboardData debería lanzar NotFound si no se encuentra el usuario","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588444057,"status":"passed","title":"debería lanzar NotFound si no se encuentra el usuario"},{"ancestorTitles":["DashboardService","getDashboardData"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DashboardService getDashboardData debería calcular todos los charts correctamente usando los helpers con data variada","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1771588444088,"status":"passed","title":"debería calcular todos los charts correctamente usando los helpers con data variada"},{"ancestorTitles":["DashboardService","getDashboardData"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DashboardService getDashboardData debería formatear correctamente un historial vacío","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771588444094,"status":"passed","title":"debería formatear correctamente un historial vacío"},{"ancestorTitles":["DashboardService","getDashboardData"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DashboardService getDashboardData debería detectar rachas de promedios excelentes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588444097,"status":"passed","title":"debería detectar rachas de promedios excelentes"}],"endTime":1771588444101,"message":"","name":"C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\src\\modules\\dashboard\\services\\dashboard.service.spec.ts","startTime":1771588442966,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["TrophyService","checkAndUnlockTrophies"],"duration":25,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"TrophyService checkAndUnlockTrophies debería lanzar NotFoundException si el usuario no existe","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588444167,"status":"passed","title":"debería lanzar NotFoundException si el usuario no existe"},{"ancestorTitles":["TrophyService","checkAndUnlockTrophies"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"TrophyService checkAndUnlockTrophies debería desbloquear el trofeo FIRST_SUBJECT_COMPLETED si se aprueba la primera materia","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771588444192,"status":"passed","title":"debería desbloquear el trofeo FIRST_SUBJECT_COMPLETED si se aprueba la primera materia"},{"ancestorTitles":["TrophyService","checkAndUnlockTrophies"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"TrophyService checkAndUnlockTrophies no debería re-desbloquear un trofeo ya desbloqueado","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771588444197,"status":"passed","title":"no debería re-desbloquear un trofeo ya desbloqueado"},{"ancestorTitles":["TrophyService","Efficiency and Resource Checks"],"duration":24,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"TrophyService Efficiency and Resource Checks debería procesar grandes volúmenes de materias (10.000 records ficticios) sin memory limit excedido e iterador","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771588444200,"status":"passed","title":"debería procesar grandes volúmenes de materias (10.000 records ficticios) sin memory limit excedido e iterador"}],"endTime":1771588444225,"message":"","name":"C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\src\\modules\\trophy\\services\\trophy.service.spec.ts","startTime":1771588442996,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AcademicCareerService","getCareerGraph"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AcademicCareerService getCareerGraph debería lanzar NotFoundException si no existe el user","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588444316,"status":"passed","title":"debería lanzar NotFoundException si no existe el user"},{"ancestorTitles":["AcademicCareerService","getCareerGraph"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AcademicCareerService getCareerGraph debería retornar el grafo de materias correctamente formateado","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1771588444337,"status":"passed","title":"debería retornar el grafo de materias correctamente formateado"},{"ancestorTitles":["AcademicCareerService","updateSubjectRecord"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AcademicCareerService updateSubjectRecord debería lanzar NotFoundException si no existe el user","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588444340,"status":"passed","title":"debería lanzar NotFoundException si no existe el user"},{"ancestorTitles":["AcademicCareerService","updateSubjectRecord"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AcademicCareerService updateSubjectRecord debería lanzar NotFoundException si no existe la materia","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771588444342,"status":"passed","title":"debería lanzar NotFoundException si no existe la materia"},{"ancestorTitles":["AcademicCareerService","updateSubjectRecord"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AcademicCareerService updateSubjectRecord debería actualizar satisfactoriamente y emitir el eventEmitter","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771588444343,"status":"passed","title":"debería actualizar satisfactoriamente y emitir el eventEmitter"}],"endTime":1771588444347,"message":"","name":"C:\\Users\\luisd\\Desktop\\Proyectos\\Mi-Carrerita\\server\\src\\modules\\academic-career\\services\\academic-career.service.spec.ts","startTime":1771588442934,"status":"passed","summary":""}],"wasInterrupted":false}
